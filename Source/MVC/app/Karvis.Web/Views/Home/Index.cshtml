@{
    ViewBag.Title = "Home";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model IList<Karvis.Domain.ViewModels.JobViewModel>
            

 
@helper WebGridPageFirstItem(WebGrid grid)
{
    @(((grid.PageIndex + 1)*grid.RowsPerPage) - (grid.RowsPerPage - 1))
    ;
}
 
@helper WebGridPageLastItem(WebGrid grid)
{
    if (grid.TotalRowCount < (grid.PageIndex + 1*grid.RowsPerPage))
    {
        @grid.TotalRowCount
        ;
    }
    else
    {
        @((grid.PageIndex + 1)*grid.RowsPerPage)
        ;
    }
}
 
<h2>Employees List</h2>
 
@{
    var grid = new WebGrid(
        source: Model,
        canPage: true,
        rowsPerPage: 10,
        canSort: true,
        defaultSort: "FirstName"
        );
    int rowIndex = ((grid.PageIndex + 1)*grid.RowsPerPage) - (grid.RowsPerPage - 1);
}
 

@grid.GetHtml(
    htmlAttributes: new {id = "MyGrid"},
    mode: WebGridPagerModes.Numeric,
    columns: grid.Columns(
        grid.Column(header: "#",
                    style: "text-align-center-col",
                    format: @<text>@(rowIndex++)</text>),
        grid.Column(columnName: "Title", header: "عنوان"),
        grid.Column(columnName: "Tag", header: "تگ"),
        grid.Column(header: "",
                    format: @<form action="/Home/Delete/@item.Id" method="post"><input type="submit"
                                                                                       onclick=" return confirm('Do you want to delete this record?'); "
                                                                                       value="Delete"/></form>)
        )
     )
 
<strong>Page:</strong> @(grid.PageIndex + 1) / @grid.PageCount, 
<strong>Records:</strong> @WebGridPageFirstItem(@grid) - @WebGridPageLastItem(@grid) of @grid.TotalRowCount
 
@*
    @if (@grid.HasSelection)
    {
        @RenderPage("~/views/path/_partial_view.cshtml", new { Employee = grid.SelectedRow })
    }
    *@